<div class="flex flex-col gap-1 mb-4">
  <% if @artists.any? %>
    <div class="flex flex-wrap gap-1 text-sm">
      <% @artists.each_with_index do |artist, i| %>
        <% if i > 0 %><span class="text-woodsmoke-500">,</span><% end %>
        <%= link_to artist.name, artist_path(artist), class: "text-crusta-400 hover:text-crusta-300 transition-colors" %>
      <% end %>
    </div>
  <% end %>

  <h1 class="text-3xl font-bold text-woodsmoke-50"><%= @release_group.title %></h1>

  <div class="flex flex-wrap gap-2 mt-2">
    <span class="px-2.5 py-1 text-xs font-medium rounded bg-crusta-900/30 text-crusta-400">Main Release</span>
    <span class="px-2.5 py-1 text-xs font-medium rounded bg-woodsmoke-800 text-woodsmoke-300"><%= @releases.size %> Versions</span>
  </div>
</div>

<%# Release info table — matches release page style %>
<% if @main_release %>
  <% main_label = @main_release.release_labels.first %>
  <div class="mt-6 rounded-sm border border-woodsmoke-800 bg-woodsmoke-925 overflow-hidden text-sm">
    <%# Row 1: Label / Catalog # %>
    <div class="grid grid-cols-2 divide-x divide-woodsmoke-800">
      <div class="flex items-baseline justify-between gap-2 px-5 py-3">
        <span class="text-woodsmoke-400">Label</span>
        <span class="text-woodsmoke-50 font-medium"><%= main_label&.label&.name || "—" %></span>
      </div>
      <div class="flex items-baseline justify-between gap-2 px-5 py-3">
        <span class="text-woodsmoke-400">Catalog #</span>
        <span class="text-crusta-400 font-medium"><%= main_label&.catalog_number.presence || "—" %></span>
      </div>
    </div>

    <div class="border-t border-woodsmoke-800"></div>

    <%# Row 2: Country / Released %>
    <div class="grid grid-cols-2 divide-x divide-woodsmoke-800">
      <div class="flex items-baseline justify-between gap-2 px-5 py-3">
        <span class="text-woodsmoke-400">Country</span>
        <span class="text-woodsmoke-50 font-medium"><%= @main_release.country.presence || "—" %></span>
      </div>
      <div class="flex items-baseline justify-between gap-2 px-5 py-3">
        <span class="text-woodsmoke-400">Released</span>
        <span class="text-woodsmoke-50 font-medium"><%= @main_release.released.presence || "—" %></span>
      </div>
    </div>

    <% if @release_group.year.present? %>
      <div class="border-t border-woodsmoke-800"></div>

      <%# Row 3: Year %>
      <div class="grid grid-cols-2 divide-x divide-woodsmoke-800">
        <div class="flex items-baseline justify-between gap-2 px-5 py-3">
          <span class="text-woodsmoke-400">Year</span>
          <span class="text-crusta-400 font-medium"><%= @release_group.year %></span>
        </div>
        <div class="px-5 py-3"></div>
      </div>
    <% end %>
  </div>
<% end %>
