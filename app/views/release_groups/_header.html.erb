<%# Cover art + title/badges/artist side-by-side %>
<div class="flex flex-col sm:flex-row gap-6">
  <%# Cover art %>
  <%= render "shared/cover_art", thumb: @release_group.cover_art_url, alt: @release_group.title, size: :lg %>

  <%# Title, badges, artist %>
  <div class="flex-1 min-w-0">
    <h1 class="text-3xl font-bold text-woodsmoke-50 mb-3"><%= @release_group.title %></h1>

    <div class="flex flex-wrap gap-2 mb-3">
      <span class="px-2.5 py-1 text-xs font-medium rounded bg-crusta-900/30 text-crusta-400">Main Release</span>
      <span class="px-2.5 py-1 text-xs font-medium rounded bg-woodsmoke-800 text-woodsmoke-300"><%= @releases.size %> Versions</span>
    </div>

    <% if @artists.any? %>
      <div class="mt-2 flex flex-wrap gap-1 text-sm">
        <span class="text-woodsmoke-500">by</span>
        <% @artists.each_with_index do |artist, i| %>
          <% if i > 0 %><span class="text-woodsmoke-500">,</span><% end %>
          <%= link_to artist.name, artist_path(artist), class: "text-crusta-400 hover:text-crusta-300 transition-colors" %>
        <% end %>
      </div>
    <% end %>
  </div>
</div>

<%# Release info box â€” separate card %>
<% if @main_release %>
  <div class="mt-6 p-5 rounded-xl border border-woodsmoke-800 bg-woodsmoke-925">
    <% main_label = @main_release.release_labels.first %>

    <div class="grid grid-cols-2 gap-x-8 gap-y-3 text-sm">
      <% if main_label&.label %>
        <div class="flex items-baseline justify-between gap-2">
          <span class="text-woodsmoke-400">Label</span>
          <span class="text-woodsmoke-50 text-right"><%= main_label.label.name %></span>
        </div>
      <% end %>

      <% if main_label&.catalog_number.present? %>
        <div class="flex items-baseline justify-between gap-2">
          <span class="text-woodsmoke-400">Catalog #</span>
          <span class="text-woodsmoke-50 text-right"><%= main_label.catalog_number %></span>
        </div>
      <% end %>


      <% if @main_release.country.present? %>
        <div class="flex items-baseline justify-between gap-2">
          <span class="text-woodsmoke-400">Country</span>
          <span class="text-woodsmoke-50 text-right"><%= @main_release.country %></span>
        </div>
      <% end %>

      <% if @main_release.released.present? %>
        <div class="flex items-baseline justify-between gap-2">
          <span class="text-woodsmoke-400">Released</span>
          <span class="text-woodsmoke-50 text-right"><%= @main_release.released %></span>
        </div>
      <% end %>

      <% if @release_group.year.present? %>
        <div class="flex items-baseline justify-between gap-2">
          <span class="text-woodsmoke-400">Year</span>
          <span class="text-woodsmoke-50 text-right"><%= @release_group.year %></span>
        </div>
      <% end %>
    </div>
  </div>
<% end %>
