<div class="flex flex-col gap-1 mb-4">
  <%# Artist name %>
  <div class="flex flex-wrap gap-1 text-sm">
    <%= link_to @artist.name, artist_path(@artist), class: "text-crusta-400 hover:text-crusta-300 transition-colors" %>
  </div>

  <%# Title %>
  <h1 class="text-3xl font-bold text-woodsmoke-50"><%= @release.title %></h1>

</div>

<%# Badges %>
<div class="flex flex-wrap items-center gap-2">
  <% if @release_group %>
    <%= link_to artist_release_group_path(@artist, @release_group), class: "px-2.5 py-1 text-xs font-medium rounded border border-woodsmoke-700 text-crusta-400 hover:text-crusta-300 hover:border-crusta-400 transition-colors" do %>
      ← View all versions
    <% end %>
  <% end %>

  <% @formats.each do |release_format| %>
    <% format_label = [(release_format.quantity.to_i > 1) ? "#{release_format.quantity.to_i}×" : nil, release_format.name].compact.join(" ") %>
    <span class="px-2.5 py-1 text-xs font-medium rounded bg-crusta-900/30 text-crusta-400"><%= format_label %></span>
    <% if release_format.descriptions.present? %>
      <% release_format.descriptions.split(";").map(&:strip).reject(&:blank?).each do |desc| %>
        <span class="px-2.5 py-1 text-xs font-medium rounded bg-crusta-900/30 text-crusta-400"><%= desc %></span>
      <% end %>
    <% end %>
  <% end %>

  <% release_year = @release.released&.match(/\d{4}/)&.to_s %>
  <% country_year = [@release.country, release_year].compact_blank.join(" · ") %>
  <% if country_year.present? %>
    <span class="px-2.5 py-1 text-xs font-medium rounded border border-woodsmoke-700 text-woodsmoke-300"><%= country_year %></span>
  <% end %>
</div>
