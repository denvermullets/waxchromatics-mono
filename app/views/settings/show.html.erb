<div class="max-w-2xl mx-auto">
  <nav class="flex items-center gap-2 text-sm text-woodsmoke-400 mb-8">
    <%= link_to @user.username, profile_path(username: @user.username), class: "hover:text-woodsmoke-50 transition-colors" %>
    <span>/</span>
    <span class="text-woodsmoke-100">Settings</span>
  </nav>

  <% if notice.present? %>
    <div class="py-2 px-3 bg-emerald-950 mb-5 text-emerald-300 font-medium rounded-lg">
      <p><%= notice %></p>
    </div>
  <% end %>

  <% if @user.errors.any? %>
    <div class="py-2 px-3 bg-crusta-950 mb-5 text-crusta-300 font-medium rounded-lg">
      <% @user.errors.full_messages.each do |message| %>
        <p><%= message %></p>
      <% end %>
    </div>
  <% end %>

  <%= form_with model: @user, url: user_settings_path(username: @user.username), method: :patch, class: "space-y-8" do |form| %>
    <%# Profile Section %>
    <fieldset>
      <legend class="text-lg font-bold text-woodsmoke-50 mb-4">Profile</legend>

      <div class="space-y-5">
        <div>
          <%= form.label :avatar_url, "Avatar URL", class: "block text-sm font-semibold text-woodsmoke-100" %>
          <%= form.url_field :avatar_url, placeholder: "https://example.com/avatar.jpg", class: "block w-full mt-1 rounded-lg border border-woodsmoke-800 bg-wax-grey px-3 py-2.5 text-woodsmoke-50 placeholder-woodsmoke-500 shadow-sm focus:border-crusta-400 focus:ring-1 focus:ring-crusta-400 focus:outline-none" %>
        </div>

        <div>
          <%= form.label :location, class: "block text-sm font-semibold text-woodsmoke-100" %>
          <%= form.text_field :location, placeholder: "City, State", class: "block w-full mt-1 rounded-lg border border-woodsmoke-800 bg-wax-grey px-3 py-2.5 text-woodsmoke-50 placeholder-woodsmoke-500 shadow-sm focus:border-crusta-400 focus:ring-1 focus:ring-crusta-400 focus:outline-none" %>
        </div>

        <div>
          <%= form.label :bio, class: "block text-sm font-semibold text-woodsmoke-100" %>
          <%= form.text_area :bio, rows: 4, placeholder: "Tell us about your collection...", class: "block w-full mt-1 rounded-lg border border-woodsmoke-800 bg-wax-grey px-3 py-2.5 text-woodsmoke-50 placeholder-woodsmoke-500 shadow-sm focus:border-crusta-400 focus:ring-1 focus:ring-crusta-400 focus:outline-none resize-none" %>
        </div>
      </div>
    </fieldset>

    <%# Preferences Section %>
    <fieldset>
      <legend class="text-lg font-bold text-woodsmoke-50 mb-4">Preferences</legend>

      <div>
        <p class="text-sm font-semibold text-woodsmoke-100 mb-3">Default Collection View</p>
        <div class="flex gap-6">
          <label class="flex items-center gap-2 cursor-pointer">
            <%= form.radio_button :default_collection_view, 'grid', class: "text-crusta-400 focus:ring-crusta-400 bg-woodsmoke-800 border-woodsmoke-600" %>
            <span class="text-sm text-woodsmoke-200">Grid</span>
          </label>
          <label class="flex items-center gap-2 cursor-pointer">
            <%= form.radio_button :default_collection_view, 'list', class: "text-crusta-400 focus:ring-crusta-400 bg-woodsmoke-800 border-woodsmoke-600" %>
            <span class="text-sm text-woodsmoke-200">List</span>
          </label>
        </div>
      </div>
    </fieldset>

    <%= form.submit "Save Settings", class: "rounded-lg px-5 py-2.5 bg-crusta-400 hover:bg-crusta-500 text-woodsmoke-950 font-semibold cursor-pointer transition-colors" %>
  <% end %>
</div>
