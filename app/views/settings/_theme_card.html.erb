<%# locals: (form:, name:, label:, swatches:, selected:, enabled:) %>
<label class="relative block cursor-pointer <%= 'opacity-50 pointer-events-none' unless enabled %>">
  <%= form.radio_button :theme, name,
    checked: selected,
    disabled: !enabled,
    class: "sr-only peer",
    data: { controller: "form-submit", action: "change->form-submit#submit change->theme#select" } %>
  <div class="rounded-lg border-2 p-4 transition-colors
              border-woodsmoke-700 peer-checked:border-crusta-400
              bg-woodsmoke-800 hover:bg-woodsmoke-750">
    <div class="flex items-center justify-between mb-3">
      <span class="text-sm font-semibold text-woodsmoke-100"><%= label %></span>
      <div class="w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors
                  <%= selected ? 'bg-crusta-400 border-crusta-400' : 'border-woodsmoke-600' %>">
        <% if selected %>
          <svg class="w-3 h-3 text-woodsmoke-950" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
          </svg>
        <% end %>
      </div>
    </div>
    <div class="flex gap-2">
      <% swatches.each do |color| %>
        <div class="w-6 h-6 rounded-full <%= color %>"></div>
      <% end %>
    </div>
  </div>
</label>
