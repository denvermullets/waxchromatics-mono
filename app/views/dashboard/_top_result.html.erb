<div class="mb-6">
  <h3 class="text-xs font-semibold uppercase tracking-wider text-woodsmoke-400 mb-3">Top Result</h3>
  <% top_artist_link = @top_artist.is_a?(Artist) ? artist_path(@top_artist) : artist_path(@top_artist["id"]) %>
  <%= link_to top_artist_link, data: { turbo_frame: "_top" }, class: "relative p-5 rounded-xl border border-woodsmoke-800 hover:border-crusta-400 transition-colors bg-woodsmoke-900 flex gap-5 cursor-pointer block no-underline" do %>
    <div class="shrink-0 w-56 h-56 rounded-lg bg-woodsmoke-700 flex items-center justify-center overflow-hidden">
      <svg class="w-20 h-20 text-woodsmoke-500" fill="currentColor" viewBox="0 0 24 24">
        <path d="M12 12c2.7 0 4.8-2.1 4.8-4.8S14.7 2.4 12 2.4 7.2 4.5 7.2 7.2 9.3 12 12 12zm0 2.4c-3.2 0-9.6 1.6-9.6 4.8v2.4h19.2v-2.4c0-3.2-6.4-4.8-9.6-4.8z"/>
      </svg>
    </div>

    <div class="flex-1 min-w-0">
      <% if @top_artist.is_a?(Artist) %>
        <p class="text-2xl font-bold text-woodsmoke-50"><%= @top_artist.name %></p>
        <% if @top_artist.real_name.present? %>
          <p class="text-sm text-woodsmoke-400 mt-1"><%= @top_artist.real_name %></p>
        <% end %>
        <% if @top_artist.profile.present? %>
          <p class="mt-3 text-sm text-woodsmoke-300 leading-relaxed"><%= truncate(@top_artist.profile, length: 200) %></p>
        <% end %>
        <% release_group_count = @top_artist.releases.distinct.count(:release_group_id) %>
        <% if release_group_count > 0 %>
          <span class="inline-block mt-3 px-2 py-1 text-xs font-medium rounded bg-woodsmoke-800 text-woodsmoke-300">
            <%= release_group_count %> <%= "release".pluralize(release_group_count) %>
          </span>
        <% end %>
        <% variant_count = @top_artist.releases.count %>
        <% if variant_count > 0 %>
          <span class="inline-block mt-3 px-2 py-1 text-xs font-medium rounded bg-woodsmoke-800 text-woodsmoke-300">
            <%= variant_count %> <%= "variant".pluralize(variant_count) %>
          </span>
        <% end %>
      <% else %>
        <p class="text-2xl font-bold text-woodsmoke-50"><%= @top_artist["name"] || @top_artist["title"] %></p>
        <% if @top_artist["real_name"].present? %>
          <p class="text-sm text-woodsmoke-400 mt-1"><%= @top_artist["real_name"] %></p>
        <% end %>
        <% if @top_artist["profile"].present? %>
          <p class="mt-3 text-sm text-woodsmoke-300 leading-relaxed"><%= truncate(@top_artist["profile"].to_s, length: 200) %></p>
        <% end %>
      <% end %>
    </div>

    <svg class="absolute bottom-4 right-4 w-5 h-5 text-woodsmoke-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
    </svg>
  <% end %>
</div>
